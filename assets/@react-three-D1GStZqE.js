import{r as w}from"./react-DOB5kbBA.js";import"./react-reconciler-41qRxefi.js";function ne(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var j={exports:{}},D={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L;function X(){return L||(L=1,function(n){function c(e,t){var u=e.length;e.push(t);e:for(;0<u;){var a=u-1>>>1,l=e[a];if(0<y(l,t))e[a]=t,e[u]=l,u=a;else break e}}function r(e){return e.length===0?null:e[0]}function b(e){if(e.length===0)return null;var t=e[0],u=e.pop();if(u!==t){e[0]=u;e:for(var a=0,l=e.length,g=l>>>1;a<g;){var S=2*(a+1)-1,h=e[S],v=S+1,E=e[v];if(0>y(h,u))v<l&&0>y(E,h)?(e[a]=E,e[v]=u,a=v):(e[a]=h,e[S]=u,a=S);else if(v<l&&0>y(E,u))e[a]=E,e[v]=u,a=v;else break e}}return t}function y(e,t){var u=e.sortIndex-t.sortIndex;return u!==0?u:e.id-t.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var J=performance;n.unstable_now=function(){return J.now()}}else{var I=Date,K=I.now();n.unstable_now=function(){return I.now()-K}}var f=[],i=[],V=1,s=null,o=3,P=!1,d=!1,m=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function C(e){for(var t=r(i);t!==null;){if(t.callback===null)b(i);else if(t.startTime<=e)b(i),t.sortIndex=t.expirationTime,c(f,t);else break;t=r(i)}}function R(e){if(m=!1,C(e),!d)if(r(f)!==null)d=!0,F();else{var t=r(i);t!==null&&H(R,t.startTime-e)}}var T=!1,k=-1,O=5,Q=-1;function Y(){return!(n.unstable_now()-Q<O)}function q(){if(T){var e=n.unstable_now();Q=e;var t=!0;try{e:{d=!1,m&&(m=!1,N(k),k=-1),P=!0;var u=o;try{n:{for(C(e),s=r(f);s!==null&&!(s.expirationTime>e&&Y());){var a=s.callback;if(typeof a=="function"){s.callback=null,o=s.priorityLevel;var l=a(s.expirationTime<=e);if(e=n.unstable_now(),typeof l=="function"){s.callback=l,C(e),t=!0;break n}s===r(f)&&b(f),C(e)}else b(f);s=r(f)}if(s!==null)t=!0;else{var g=r(i);g!==null&&H(R,g.startTime-e),t=!1}}break e}finally{s=null,o=u,P=!1}t=void 0}}finally{t?_():T=!1}}}var _;if(typeof U=="function")_=function(){U(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=q,_=function(){W.postMessage(null)}}else _=function(){M(q,0)};function F(){T||(T=!0,_())}function H(e,t){k=M(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){d||P||(d=!0,F())},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return o},n.unstable_getFirstCallbackNode=function(){return r(f)},n.unstable_next=function(e){switch(o){case 1:case 2:case 3:var t=3;break;default:t=o}var u=o;o=t;try{return e()}finally{o=u}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var u=o;o=e;try{return t()}finally{o=u}},n.unstable_scheduleCallback=function(e,t,u){var a=n.unstable_now();switch(typeof u=="object"&&u!==null?(u=u.delay,u=typeof u=="number"&&0<u?a+u:a):u=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=u+l,e={id:V++,callback:t,priorityLevel:e,startTime:u,expirationTime:l,sortIndex:-1},u>a?(e.sortIndex=u,c(i,e),r(f)===null&&e===r(i)&&(m?(N(k),k=-1):m=!0,H(R,u-a))):(e.sortIndex=l,c(f,e),d||P||(d=!0,F())),e},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(e){var t=o;return function(){var u=o;o=t;try{return e.apply(this,arguments)}finally{o=u}}}}(D)),D}var z;function Z(){return z||(z=1,j.exports=X()),j.exports}Z();const A=((n,c)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((c=window.navigator)==null?void 0:c.product)==="ReactNative"))()?w.useLayoutEffect:w.useEffect;function $(n){const c=w.useRef(n);return A(()=>void(c.current=n),[n]),c}const p=w.createContext(null);function G(){const n=w.useContext(p);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ue(n=r=>r,c){return G()(n,c)}function te(n,c=0){const r=G(),b=r.getState().internal.subscribe,y=$(n);return A(()=>b(y,c,r),[c,b,r]),null}export{te as a,ne as g,ue as u};
